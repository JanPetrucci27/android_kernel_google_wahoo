diff a/drivers/cpuidle/lpm-levels.c b/drivers/cpuidle/lpm-levels.c	(rejected hunks)
@@ -758,7 +758,7 @@ static uint64_t get_cluster_sleep_time(struct lpm_cluster *cluster,
 	struct lpm_history *history;
 	int64_t prediction = LONG_MAX;
 
-	next_event.tv64 = KTIME_MAX;
+	next_event = KTIME_MAX;
 	if (!suspend_wake_time)
 		suspend_wake_time =  msm_pm_sleep_time_override;
 	if (!from_idle) {
@@ -777,8 +777,8 @@ static uint64_t get_cluster_sleep_time(struct lpm_cluster *cluster,
 		ktime_t *next_event_c;
 
 		next_event_c = get_next_event_cpu(cpu);
-		if (next_event_c->tv64 < next_event.tv64) {
-			next_event.tv64 = next_event_c->tv64;
+		if (*next_event_c < next_event) {
+			next_event = *next_event_c;
 			next_cpu = cpu;
 		}
 
